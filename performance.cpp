#include <iostream>
#include <chrono>
#include "ADS_set.h"

template <typename Key, size_t N>
void benchmark() {
    ADS_set<Key, N> set;
    auto start = std::chrono::high_resolution_clock::now();
    
    // Example workload: Insert, search, and delete 1,000,000 elements
    for (size_t i = 0; i < 1000000; ++i) {
        set.insert(i);
    }
    for (size_t i = 0; i < 1000000; ++i) {
        set.find(i);
    }
    for (size_t i = 0; i < 1000000; ++i) {
        set.erase(i);
    }
    
    auto end = std::chrono::high_resolution_clock::now();
    auto duration = std::chrono::duration_cast<std::chrono::milliseconds>(end - start).count();
    
    std::cout << "Bucket Size " << N << ": " << duration << " ms\n";
}

int main() {
    benchmark<int, 8>();
    benchmark<int, 16>();
    benchmark<int, 32>();
    benchmark<int, 60>();
benchmark<int, 61>();
benchmark<int, 62>();
benchmark<int, 63>();
benchmark<int, 64>();
benchmark<int, 65>();
benchmark<int, 66>();
benchmark<int, 67>();
benchmark<int, 68>();
benchmark<int, 69>();
benchmark<int, 70>();
benchmark<int, 71>();
benchmark<int, 72>();
benchmark<int, 73>();
benchmark<int, 74>();
benchmark<int, 75>();
benchmark<int, 76>();
benchmark<int, 77>();
benchmark<int, 78>();
benchmark<int, 79>();
benchmark<int, 80>();
benchmark<int, 81>();
benchmark<int, 82>();
benchmark<int, 83>();
benchmark<int, 84>();
benchmark<int, 85>();
benchmark<int, 86>();
benchmark<int, 87>();
benchmark<int, 88>();
benchmark<int, 89>();
benchmark<int, 90>();
benchmark<int, 91>();
benchmark<int, 92>();
benchmark<int, 93>();
benchmark<int, 94>();
benchmark<int, 95>();
benchmark<int, 96>();
benchmark<int, 97>();
benchmark<int, 98>();
benchmark<int, 99>();
benchmark<int, 100>();
benchmark<int, 101>();
benchmark<int, 102>();
benchmark<int, 103>();
benchmark<int, 104>();
benchmark<int, 105>();
benchmark<int, 106>();
benchmark<int, 107>();
benchmark<int, 108>();
benchmark<int, 109>();
benchmark<int, 110>();
benchmark<int, 111>();
benchmark<int, 112>();
benchmark<int, 113>();
benchmark<int, 114>();
benchmark<int, 115>();
benchmark<int, 116>();
benchmark<int, 117>();
benchmark<int, 118>();
benchmark<int, 119>();
benchmark<int, 120>();
benchmark<int, 121>();
benchmark<int, 122>();
benchmark<int, 123>();
benchmark<int, 124>();
benchmark<int, 125>();
benchmark<int, 126>();
benchmark<int, 127>();
benchmark<int, 128>();
benchmark<int, 129>();
benchmark<int, 130>();
benchmark<int, 131>();
benchmark<int, 132>();
benchmark<int, 133>();
benchmark<int, 134>();
benchmark<int, 135>();
benchmark<int, 136>();
benchmark<int, 137>();
benchmark<int, 138>();
benchmark<int, 139>();
benchmark<int, 140>();
benchmark<int, 141>();
benchmark<int, 142>();
benchmark<int, 143>();
benchmark<int, 144>();
benchmark<int, 145>();
benchmark<int, 146>();
benchmark<int, 147>();
benchmark<int, 148>();
benchmark<int, 149>();
benchmark<int, 150>();
benchmark<int, 151>();
benchmark<int, 152>();
benchmark<int, 153>();
benchmark<int, 154>();
benchmark<int, 155>();
benchmark<int, 156>();
benchmark<int, 157>();
benchmark<int, 158>();
benchmark<int, 159>();
benchmark<int, 160>();
benchmark<int, 161>();
benchmark<int, 162>();
benchmark<int, 163>();
benchmark<int, 164>();
benchmark<int, 165>();
benchmark<int, 166>();
benchmark<int, 167>();
benchmark<int, 168>();
benchmark<int, 169>();
benchmark<int, 170>();
benchmark<int, 171>();
benchmark<int, 172>();
benchmark<int, 173>();
benchmark<int, 174>();
benchmark<int, 175>();
benchmark<int, 176>();
benchmark<int, 177>();
benchmark<int, 178>();
benchmark<int, 179>();
benchmark<int, 180>();
benchmark<int, 181>();
benchmark<int, 182>();
benchmark<int, 183>();
benchmark<int, 184>();
benchmark<int, 185>();
benchmark<int, 186>();
benchmark<int, 187>();
benchmark<int, 188>();
benchmark<int, 189>();
benchmark<int, 190>();
benchmark<int, 191>();
benchmark<int, 192>();
benchmark<int, 193>();
benchmark<int, 194>();
benchmark<int, 195>();
benchmark<int, 196>();
benchmark<int, 197>();
benchmark<int, 198>();
benchmark<int, 199>();
benchmark<int, 200>();
benchmark<int, 201>();
benchmark<int, 202>();
benchmark<int, 203>();
benchmark<int, 204>();
benchmark<int, 205>();
benchmark<int, 206>();
benchmark<int, 207>();
benchmark<int, 208>();
benchmark<int, 209>();
benchmark<int, 210>();
benchmark<int, 211>();
benchmark<int, 212>();
benchmark<int, 213>();
benchmark<int, 214>();
benchmark<int, 215>();
benchmark<int, 216>();
benchmark<int, 217>();
benchmark<int, 218>();
benchmark<int, 219>();
benchmark<int, 220>();
benchmark<int, 221>();
benchmark<int, 222>();
benchmark<int, 223>();
benchmark<int, 224>();
benchmark<int, 225>();
benchmark<int, 226>();
benchmark<int, 227>();
benchmark<int, 228>();
benchmark<int, 229>();
benchmark<int, 230>();
benchmark<int, 231>();
benchmark<int, 232>();
benchmark<int, 233>();
benchmark<int, 234>();
benchmark<int, 235>();
benchmark<int, 236>();
benchmark<int, 237>();
benchmark<int, 238>();
benchmark<int, 239>();
benchmark<int, 240>();
benchmark<int, 241>();
benchmark<int, 242>();
benchmark<int, 243>();
benchmark<int, 244>();
benchmark<int, 245>();
benchmark<int, 246>();
benchmark<int, 247>();
benchmark<int, 248>();
benchmark<int, 249>();
benchmark<int, 250>();
benchmark<int, 251>();
benchmark<int, 252>();
benchmark<int, 253>();
benchmark<int, 254>();
benchmark<int, 255>();
benchmark<int, 256>();
benchmark<int, 257>();
benchmark<int, 258>();
benchmark<int, 259>();
benchmark<int, 260>();
benchmark<int, 261>();
benchmark<int, 262>();
benchmark<int, 263>();
benchmark<int, 264>();
benchmark<int, 265>();
benchmark<int, 266>();
benchmark<int, 267>();
benchmark<int, 268>();
benchmark<int, 269>();
benchmark<int, 270>();
benchmark<int, 271>();
benchmark<int, 272>();
benchmark<int, 273>();
benchmark<int, 274>();
benchmark<int, 275>();
benchmark<int, 276>();
benchmark<int, 277>();
benchmark<int, 278>();
benchmark<int, 279>();
benchmark<int, 280>();
benchmark<int, 281>();
benchmark<int, 282>();
benchmark<int, 283>();
benchmark<int, 284>();
benchmark<int, 285>();
benchmark<int, 286>();
benchmark<int, 287>();
benchmark<int, 288>();
benchmark<int, 289>();
benchmark<int, 290>();
benchmark<int, 291>();
benchmark<int, 292>();
benchmark<int, 293>();
benchmark<int, 294>();
benchmark<int, 295>();
benchmark<int, 296>();
benchmark<int, 297>();
benchmark<int, 298>();
benchmark<int, 299>();
benchmark<int, 300>();
    return 0;
}